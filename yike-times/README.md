# NodeJS + Uniapp 前后端分离的即时通讯项目

## 项目技术栈

### 后端技术栈

-   语言：NodeJS
-   框架：Express + WebSocket
-   数据库：MongoDB

### 前端技术栈

-   语言：JavaScript
-   框架：VueJS + Uniapp

## 项目表结构

### 用户表: User

| 字段名称     | 字段描述                |
| ------------ | ----------------------- |
| id           | 用户表主键 id           |
| email        | 邮箱地址                |
| pwd          | 用户密码                |
| name         | 用户名                  |
| nickname     | 用户昵称                |
| avatar       | 用户头像地址            |
| gender       | 用户性别(1：男， 2：女) |
| phone        | 手机号                  |
| signature    | 用户签名                |
| registerTime | 注册时间                |
| createTime   | 创建时间                |
| updateTime   | 更新时间                |

### 好友表: Friend

| 字段名称 | 字段描述                                    |
| -------- | ------------------------------------------- |
| id       | 好友表主键 id                               |
| uId      | 用户 id                                     |
| fId      | 好友 id                                     |
| status   | 好友状态(1：申请中， 2：已拒绝， 3：已同意) |
| time     | 更新时间                                    |

### 一对一消息表: Message

| 字段名称  | 字段描述                                                    |
| --------- | ----------------------------------------------------------- |
| id        | 消息表主键 id                                               |
| uId       | 用户 id                                                     |
| fId       | 好友 id                                                     |
| type      | 消息类型(1：文本， 2：图片， 3：音频， 4：视频， 5：自定义) |
| content   | 消息内容                                                    |
| msgStatus | 消息状态(1：未读， 2：已读)                                 |
| sendTime  | 发送时间                                                    |

### 群表: Group

| 字段名称     | 字段描述    |
| ------------ | ----------- |
| id           | 群表主键 id |
| uId          | 用户 id     |
| name         | 群名称      |
| img          | 群头像      |
| desc         | 群简介      |
| announcement | 群公告      |
| time         | 群创建时间  |
| updateTime   | 群更新时间  |

### 群成员表: GroupMember

| 字段名称    | 字段描述                                |
| ----------- | --------------------------------------- |
| id          | 群成员表主键 id                         |
| gId         | 群 id                                   |
| uId         | 用户 id                                 |
| anotherName | 用户群内名称                            |
| joinTime    | 入群时间                                |
| unreadNum   | 群内消息未读数                          |
| isShield    | 是否屏蔽当前群消息(1：不屏蔽， 2：屏蔽) |

### 群消息表: GroupMessage

| 字段名称 | 字段描述                                                    |
| -------- | ----------------------------------------------------------- |
| id       | 群消息表主键 id                                             |
| gId      | 群 id                                                       |
| uId      | 用户 id                                                     |
| type     | 消息类型(1：文本， 2：图片， 3：音频， 4：视频， 5：自定义) |
| content  | 消息内容                                                    |
| sendTime | 发送时间                                                    |
